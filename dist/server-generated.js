(()=>{var e={820:(e,t,s)=>{"use strict";var o;s.d(t,{Z:()=>f}),e=s.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=s(786),a=s(669),l=s(619),i=s(334).config();if(i.error)throw i.error;const n=process.env.MONGODB_URI,d=s(789);function c(){l.connect(n,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0});const e=l.connection;return e.on("error",console.error.bind(console,"connection error:")),e.once("open",(()=>{console.log("Connected to DB, ready to update...")})),e}const u=async e=>{let t,s;return await r("https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet%2CcontentDetails&maxResults=50&playlistId="+e+"&fields=nextPageToken%2Citems(snippet(publishedAt%2Ctitle%2Cdescription%2Cthumbnails(default(url)))%2CcontentDetails)&key="+process.env.MY_KEY,{method:"GET"}).then((e=>e.json())).then((e=>t=e)).catch((e=>console.log("fetchPlaylistError: "+a.inspect(e,!1,null,!0)))),await r("https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&maxResults=5&id="+e+"&fields=items(snippet(publishedAt,channelId,title,description,channelTitle,thumbnails(medium)))&key="+process.env.MY_KEY,{method:"GET"}).then((e=>e.json())).then((e=>s=e)).catch((e=>console.log("playlistMetadataError: "+a.inspect(e,!1,null,!0)))),{snippet:s.items[0].snippet,channelTitle:s.items[0].snippet.channelTitle,items:t.items}},p=async(e,t)=>{let s;await r("https://www.googleapis.com/youtube/v3/videos?&id="+e+"&part=snippet,contentDetails&fields=items(id,snippet(publishedAt,title,channelId,description,thumbnails(medium(url))),contentDetails)&key="+process.env.MY_KEY,{method:"GET"}).then((e=>e.json())).then((e=>s=e)).catch((e=>console.log("createNewPlaylistError: "+a.inspect(e,!1,null,!0))));const o=new Date;return{snippet:{publishedAt:o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate(),channelId:s.items[0].id,title:t,description:"",thumbnails:{medium:{url:s.items[0].snippet.thumbnails.medium.url}}},channelTitle:t,items:[{snippet:{publishedAt:s.items[0].snippet.publishedAt,title:s.items[0].snippet.title,description:s.items[0].snippet.description,thumbnails:{default:{url:s.items[0].snippet.thumbnails.medium.url}}},contentDetails:{videoId:s.items[0].id,videoPublishedAt:s.items[0].snippet.publishedAt}}]}};async function y(e,t){var s=await c();try{const o=t?await p(e,t):await u(e);let r=await new d(o);await r.save(),s.close()}catch(e){return console.log(e),s.close(),!1}return!0}const v=y,f=v;var g,m;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(i,"dotenvRes","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(n,"uri","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(c,"createConn","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(u,"fetchPlaylist","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(p,"createNewPlaylist","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(y,"updatePlaylistDB","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js"),g.register(v,"default","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\api-helper\\updatePlaylistsDB.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},579:(e,t,s)=>{"use strict";var o;s.d(t,{Z:()=>l}),s(78),require("webpack-dev-middleware"),require("webpack-hot-middleware"),s(83),e=s.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=e=>{},a={compile:r},l=a;var i,n;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(r,"compile","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\devBundle.js"),i.register(a,"default","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\devBundle.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},789:(e,t,s)=>{var o;e=s.nmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=s(619),a=new r.Schema({channelTitle:String,snippet:{publishedAt:Date,channelId:String,title:String,description:String,thumbnails:{medium:{url:String,width:Number,height:Number}},channelTitle:String},items:[{snippet:{publishedAt:Date,title:String,description:String,thumbnails:{default:{url:String}}},contentDetails:{videoId:String,videoPublishedAt:Date}}]});var l,i;e.exports=r.model("Playlist",a),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(a,"PlaylistSchema","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\models\\playlist.model.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},423:(e,t,s)=>{"use strict";s.r(t);var o,r=s(281),a=s(579),l=s(820);e=s.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=s(619),n=s(127),d=s(622),c=n();a.Z.compile(c);const u=process.cwd();c.use("/dist",n.static(d.join(u,"dist"))),c.get("/",(function(e,t){t.status(200).send((0,r.Z)())})),c.get("/upload",(function(e,t){t.status(200).send((0,r.Z)())})),c.get("/create",(function(e,t){t.status(200).send((0,r.Z)())})),c.get("/playlists",(function(e,t){t.send((0,r.Z)())})),c.get("/playlist/:ID",(function(e,t){t.send((0,r.Z)())})),c.get("/api/add-playlist/:ID/:TITLE",(async(e,t)=>{let s=e.params.ID,o=e.params.TITLE;await(0,l.Z)(s,o)?t.status(200).json({ok:!0}):t.status(404).json({ok:!1})})),c.get("/api/add-playlist/:ID",(async(e,t)=>{let s=e.params.ID;await(0,l.Z)(s,null)?t.status(200).json({ok:!0}):t.status(404).json({ok:!1})}));const p=process.env.MONGODB_URI;function y(){i.connect(p,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0});const e=i.connection;return e.on("error",console.error.bind(console,"connection error:")),e.once("open",(function(){console.log("Connected to DB...")})),e}const v=e=>{e.close().then((e=>console.log("Disconnected from DB"))).catch((e=>console.log(e)))},f=s(789);c.get("/api/playlists",(async function(e,t){var s=await y();await f.find().then((e=>t.json(e))).catch((e=>t.status(400).json("Error: "+e))),v(s)})),c.get("/api/playlist/:ID",(async function(e,t){var s=await y();await f.find({_id:e.params.ID}).then((e=>t.json(e))).catch((e=>t.status(400).json("Error: "+e))),v(s)})),c.get("/playlists/delete/:id",(async function(e,t){var s=await y();await f.deleteOne({_id:e.params.id}).then((e=>t.redirect("/playlists"))).catch((e=>t.status(400).json("Error: "+e))),v(s)}));let g=process.env.PORT||3e3;var m,b;c.listen(g,(e=>{e&&console.log(e),console.info("Server started on port %s.",g)})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(c,"app","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js"),m.register(u,"CURRENT_WORKING_DIR","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js"),m.register(p,"uri","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js"),m.register(y,"connect","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js"),m.register(v,"closeDB","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js"),m.register(g,"port","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\server\\server.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},281:(e,t,s)=>{"use strict";var o;s.d(t,{Z:()=>a}),e=s.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=()=>'<!doctype html>\n    <html lang="en">\n        <head>\n            <meta charset="utf-8">\n            <title>YT:Playlists-Organiser</title>\n            <link rel="stylesheet"></link>\n        </head>\n        <body>\n            <div id="root" style="max-width:700px;"></div>\n            <script type="text/javascript" src="/dist/bundle.js">  <\/script>\n        </body>\n    </html>',a=r;var l,i;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(r,"default","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\template.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},83:(e,t,s)=>{var o;e=s.nmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const r=s(622),a=s(78),l=process.cwd(),i={name:"browser",mode:"development",devtool:"cheap-module-source-map",entry:["webpack-hot-middleware/client?reload=true",r.join(l,"client/main.js")],output:{path:r.join(l,"/dist/"),filename:"bundle.js",publicPath:"/dist"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"},{test:/\.css$/i,use:["style-loader","css-loader"]}]},plugins:[new a.HotModuleReplacementPlugin,new a.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var n,d;e.exports=i,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(l,"CURRENT_WORKING_DIR","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\webpack.config.client.js"),n.register(i,"config","C:\\Users\\Muse\\vscode-source\\yt-playlists-organiser\\webpack.config.client.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},334:e=>{"use strict";e.exports=require("dotenv")},127:e=>{"use strict";e.exports=require("express")},619:e=>{"use strict";e.exports=require("mongoose")},786:e=>{"use strict";e.exports=require("node-fetch")},622:e=>{"use strict";e.exports=require("path")},669:e=>{"use strict";e.exports=require("util")},78:e=>{"use strict";e.exports=require("webpack")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o](a,a.exports,s),a.loaded=!0,a.exports}s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o=s(423);module.exports=o})();